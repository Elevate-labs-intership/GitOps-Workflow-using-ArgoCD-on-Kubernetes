---
- name: Get ArgoCD Admin Password
  hosts: kops
  become: true
  tasks:
    - name: Get ArgoCD admin password
      ansible.builtin.shell: "kubectl get secret -n argocd argocd-initial-admin-secret -o jsonpath='{.data.password}' | base64 -d"
      register: argocd_password
      
    - name: Display ArgoCD credentials
      ansible.builtin.debug:
        msg: |
          ================================
          ArgoCD Login Credentials:
          ================================
          URL: https://argo.devopshemantkumar.info
          Username: admin
          Password: {{ argocd_password.stdout }}
          ================================
